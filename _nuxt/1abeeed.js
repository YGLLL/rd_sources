(window.webpackJsonp=window.webpackJsonp||[]).push([[295],{2078:function(e,t,r){"use strict";r.r(t);var a=r(3962),n=r(3078);for(var s in n)["default"].indexOf(s)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(s);r(3963);var i=r(45),o=Object(i.a)(n.default,a.render,a.staticRenderFns,!1,null,"3a7e8ca6",null);t.default=o.exports,installComponents(o,{ProjectsSubmitSpeedupCardItem:r(1938).default})},2189:function(e,t,r){"use strict";r.r(t);var a=r(5207),n=r(3958);for(var s in n)["default"].indexOf(s)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(s);r(5211),r(5212);var i=r(45),o=Object(i.a)(n.default,a.render,a.staticRenderFns,!1,null,"9dcb155a",null);t.default=o.exports,installComponents(o,{ProjectsSubmitCreateForm:r(2135).default,ProjectsSubmitModifiForm:r(2078).default})},3078:function(e,t,r){"use strict";r.r(t);var a=r(3079),n=r.n(a);for(var s in a)["default"].indexOf(s)<0&&function(e){r.d(t,e,(function(){return a[e]}))}(s);t.default=n.a},3079:function(e,t,r){"use strict";r(2),r(3),r(5),r(1),r(4),r(2),r(3),r(5),r(1),r(4);var a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(44);var n=a(r(63)),s=a(r(64)),i=a(r(6)),o=a(r(2795)),c=a(r(3614)),u=r(2333),l=r(1109),d=r(670),f=r(249),m=r(101);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b={data:function(){var e=this;return{searchItemKeyword:"",selectedItem:void 0,searchItems:[],searchItemLoading:!1,showHolding:!1,langMap:h({},d.langNameKeyMap),formData:{targetId:null,fkTarget:null,fkTag:null,fkDescribe:null,blockName:null,fkUrl:null,isSpeedup:0},valid:!0,rules:{targetId:[function(t){return!!t||e.$t("rules.required",{key:e.$t("common.feedback.project")})}],url:[function(t){return!!((0,m.getCharacterCount)(t)<80)||e.$t("rules.long",{key:"url",long:80})}],description:[function(t){return!!t||e.$t("rules.required",{key:e.$t("common.feedback.description")})},function(t){return!!((0,m.getCharacterCount)(t)<500)||e.$t("rules.long",{key:e.$t("common.feedback.description"),long:500})}]},submitLoading:!1,btnActive:null,btnValueMap:{1:"基本信息错误",2:"项目状态更新",3:"丰富项目描述",4:"持仓地址反馈"},querySearchItemDebounce:void 0,throttledFunc:null,isInitForm:!0,formCatchKey:"ModifiFormCatch"}},computed:{disabledSpeedup:function(){return(this.userInfo.remainingSpeedupCount||0)<=0},userInfo:function(){return this.$auth.user||{}}},watch:{formData:{deep:!0,handler:function(){this.isInitForm||(this.throttledFunc||(this.throttledFunc=(0,c.default)(this.saveFormCatch,2e3,{})),this.throttledFunc())}}},created:function(){this.querySearchItemDebounce=(0,o.default)(this.querySearchItem,300)},mounted:function(){this.initFormCatch()},methods:{i18nVal:f.i18nVal,initFormCatch:function(){var e=this,t=localStorage.getItem(this.formCatchKey);t&&(t=JSON.parse(t),this.formData=t.formData,this.selectedItem=t.selectedItem,this.searchItems=t.searchItems),this.disabledSpeedup&&1===this.formData.isSpeedup&&(this.formData.isSpeedup=0),this.$nextTick((function(){e.isInitForm=!1}))},saveFormCatch:function(){var e={formData:this.formData,selectedItem:this.selectedItem,searchItems:this.searchItems};localStorage.setItem(this.formCatchKey,JSON.stringify(e))},querySearchItem:function(e){var t=this;return(0,s.default)(n.default.mark((function r(){return n.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=3;break}return t.searchItems=[],r.abrupt("return");case 3:return r.prev=3,t.searchItemLoading=!0,r.next=7,(0,l.fetchSearchResultListV3)(t.$axios,{keywords:e});case 7:t.searchItems=r.sent,t.searchItemLoading=!1,r.next=16;break;case 11:r.prev=11,r.t0=r.catch(3),t.searchItemLoading=!1,(0,m.showToast)(r.t0.message,t);case 16:case"end":return r.stop()}}),r,null,[[3,11]])})))()},handleSearchItem:function(e){var t=this;return(0,s.default)(n.default.mark((function r(){return n.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.querySearchItemDebounce(e);case 1:case"end":return r.stop()}}),r)})))()},handleItemChange:function(e){var t=this;return(0,s.default)(n.default.mark((function r(){var a;return n.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=5;break}return t.formData.targetId=void 0,t.formData.fkTarget=void 0,t.showHolding=!1,r.abrupt("return");case 5:return t.formData.targetId=e.id,t.formData.fkTarget=e.type,t.showHolding=!1,r.prev=8,r.next=11,(0,u.fetchAllAddressById)(t.$axios,{cId:e.id,cType:e.type});case 11:a=r.sent,t.showHolding=!(null==a||!a.length),r.next=19;break;case 15:r.prev=15,r.t0=r.catch(8),(0,m.showToast)(r.t0.message,t);case 19:case"end":return r.stop()}}),r,null,[[8,15]])})))()},handleSwitchFeedbackType:function(e){var t=this;this.$nextTick((function(){t.formData.fkTag&&(t.btnActive=e)}))},handleSubmit:function(){var e=this;return(0,s.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=18;break}if(e.formData.fkTag||1!==e.formData.fkTarget){t.next=4;break}return(0,m.showToast)(e.$t("rules.required",{key:e.$t("common.feedback.feedbackType")}),e),t.abrupt("return");case 4:return t.prev=4,e.submitLoading=!0,t.next=8,(0,u.feedback)(e.$axios,e.formData);case 8:e.submitLoading=!1,localStorage.removeItem(e.formCatchKey),e.$nextTick((function(){e.$router.replace(e.localePath("/Point"))})),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(4),e.submitLoading=!1,(0,m.showToast)(t.t0.message,e);case 18:case"end":return t.stop()}}),t,null,[[4,13]])})))()},reset:function(){this.formData.fkTag=null,this.formData.isSpeedup=0,this.selectedItem=void 0,this.searchItems=[],this.$refs.form.reset(),this.$refs.form.resetValidation()},openFeedback:function(e){var t=this;this.$auth.loggedIn?(this.show=!0,this.$nextTick((function(){t.formData.fkTag=t.btnValueMap[e],t.btnActive=e}))):this.$router.push("/login")}}};t.default=b},3440:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return t("div",{staticClass:"old-form"},[t("v-form",{ref:"form",staticClass:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t("div",{staticClass:"form_item"},[t("h5",{staticClass:"form_label mr-2 mr-md-0",attrs:{required:""}},[e._v("\n        "+e._s(e.$t("common.feedback.project"))+"\n      ")]),e._v(" "),t("v-combobox",{staticClass:"select_menu combobox_menu",attrs:{"search-input":e.searchItemKeyword,items:e.searchItems,"hide-details":"","small-chips":"","hide-no-data":!0,"item-value":"id","item-text":e.langMap[e.$locale],loading:e.searchItemLoading,"no-filter":"","persistent-placeholder":"","auto-select-first":"",placeholder:e.$t("common.search"),color:"#131926",rules:e.rules.description},on:{"update:searchInput":function(t){e.searchItemKeyword=t},"update:search-input":[function(t){e.searchItemKeyword=t},e.handleSearchItem],change:e.handleItemChange},scopedSlots:e._u([{key:"item",fn:function(r){var a=r.item,n=r.on,s=r.attrs;return[t("v-list-item",e._g(e._b({staticClass:"d-flex flex-row align-center combobox_item",attrs:{value:a.id,ripple:!1,color:"var(--color-primary)"}},"v-list-item",s,!1),n),[e._v("\n            "+e._s(e.i18nVal(a,{byKey:"name"}))+"\n          ")])]}}]),model:{value:e.selectedItem,callback:function(t){e.selectedItem=t},expression:"selectedItem"}})],1),e._v(" "),t("div",{staticClass:"form_item mt-6"},[t("h5",{staticClass:"form_label mb-2",attrs:{required:""}},[e._v("\n        "+e._s(e.$t("common.feedback.feedbackType"))+"\n      ")]),e._v(" "),t("v-btn-toggle",{staticClass:"feedback_types flex-wrap",attrs:{color:"#FFD1B0",tile:"",group:"",mandatory:""},model:{value:e.formData.fkTag,callback:function(t){e.$set(e.formData,"fkTag",t)},expression:"formData.fkTag"}},[t("v-btn",{attrs:{ripple:!1,value:"基本信息错误"},on:{click:function(t){return e.handleSwitchFeedbackType(1)}}},[e._v("\n          "+e._s(e.$t("common.feedback.wrongType1"))+"\n        ")]),e._v(" "),1===e.formData.fkTarget?t("v-btn",{attrs:{ripple:!1,value:"项目状态更新"},on:{click:function(t){return e.handleSwitchFeedbackType(2)}}},[e._v("\n          "+e._s(e.$t("common.feedback.wrongType2"))+"\n        ")]):e._e(),e._v(" "),1===e.formData.fkTarget?t("v-btn",{attrs:{ripple:!1,value:"丰富项目描述"},on:{click:function(t){return e.handleSwitchFeedbackType(3)}}},[e._v("\n          "+e._s(e.$t("common.feedback.wrongType3"))+"\n        ")]):e._e(),e._v(" "),e.showHolding?t("v-btn",{attrs:{ripple:!1,value:"持仓地址反馈"},on:{click:function(t){return e.handleSwitchFeedbackType(4)}}},[e._v("\n          "+e._s(e.$t("common.feedback.wrongType4"))+"\n        ")]):e._e()],1)],1),e._v(" "),e.formData.fkTag<4?t("div",{staticClass:"form_item"},[e.formData.fkTag?t("p",{staticClass:"infor mb-0"},[e._v("\n        "+e._s(e.$t("common.feedback.errorTypeDesc".concat(e.btnActive)))+"\n      ")]):e._e()]):e._e(),e._v(" "),t("div",{staticClass:"form_item"},[t("v-textarea",{attrs:{"no-resize":"",height:"128",placeholder:e.$t("common.feedback.descPlaceholder"),rules:e.rules.description,solo:"",flat:""},model:{value:e.formData.fkDescribe,callback:function(t){e.$set(e.formData,"fkDescribe",t)},expression:"formData.fkDescribe"}})],1),e._v(" "),t("div",{staticClass:"form_item mt-4"},[t("v-text-field",{attrs:{placeholder:e.$t("common.feedback.urlPlaceholder"),rules:e.rules.url,solo:"",flat:""},model:{value:e.formData.fkUrl,callback:function(t){e.$set(e.formData,"fkUrl",t)},expression:"formData.fkUrl"}})],1),e._v(" "),t("div",{staticClass:"form_item mt-4 mb-6"},[t("ProjectsSubmitSpeedupCardItem",{attrs:{speedup:e.formData.isSpeedup},on:{"update:speedup":function(t){return e.$set(e.formData,"isSpeedup",t)}}})],1),e._v(" "),t("div",{staticClass:"form_item"},[t("v-btn",{staticClass:"submit_btn mb-8",attrs:{color:"var(--color-primary)",depressed:"",loading:e.submitLoading},on:{click:e.handleSubmit}},[e._v("\n        "+e._s(e.$t("common.submit"))+"\n      ")])],1)])],1)};t.staticRenderFns=[]},3441:function(e,t,r){e.exports={}},3958:function(e,t,r){"use strict";r.r(t);var a=r(3959),n=r.n(a);for(var s in a)["default"].indexOf(s)<0&&function(e){r.d(t,e,(function(){return a[e]}))}(s);t.default=n.a},3959:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(83);t.default={auth:!0,data:function(){return{currformType:"create",formTypes:[{type:"create",label:this.$t("projectsSubmitPage.menus.create.title"),desc:this.$t("projectsSubmitPage.menus.create.desc")},{type:"modifi",label:this.$t("projectsSubmitPage.menus.modifi.title"),desc:this.$t("projectsSubmitPage.menus.modifi.desc")}]}},head:function(){return{title:this.$t("projectsSubmitPage.meta.title"),meta:[{name:"description",content:this.$t("projectsSubmitPage.meta.description")},{name:"keywords",content:this.$t("projectsSubmitPage.meta.keywords")}]}},computed:{formTypeDesc:function(){var e=this;return this.formTypes.find((function(t){return t.type===e.currformType})).desc}},mounted:function(){},methods:{}}},3962:function(e,t,r){"use strict";var a=r(3440);r.o(a,"render")&&r.d(t,"render",(function(){return a.render})),r.o(a,"staticRenderFns")&&r.d(t,"staticRenderFns",(function(){return a.staticRenderFns}))},3963:function(e,t,r){"use strict";r(3441)},4454:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return t("div",{staticClass:"projects-submit-box"},[t("v-container",{staticClass:"projects-submit-container"},[t("div",{staticClass:"main-layout-l"},[t("div",{staticClass:"submit-menus"},e._l(e.formTypes,(function(a){return t("div",{key:a.type,staticClass:"submit-menu",class:{"submit-menu-active":e.currformType===a.type},on:{click:function(t){e.currformType=a.type}}},[t("img",{attrs:{src:r(5208),alt:""}}),e._v(" "),t("span",{staticClass:"submit-menu-text"},[e._v("\n            "+e._s(a.label)+"\n          ")])])})),0),e._v(" "),t("p",{staticClass:"submit-desc"},[e._v("\n        "+e._s(e.formTypeDesc)+"\n      ")])]),e._v(" "),t("div",{staticClass:"main-layout-r"},[t("div",{staticClass:"submit-banner"},[t("nuxt-link",{attrs:{to:e.localePath("/projects/submit/speedup")}},["zh"===e.$lang?t("img",{attrs:{src:r(5209),alt:""}}):t("img",{attrs:{src:r(5210),alt:""}})])],1),e._v(" "),t("div",{staticClass:"submit-content"},["create"===e.currformType?t("ProjectsSubmitCreateForm"):"modifi"===e.currformType?t("ProjectsSubmitModifiForm"):e._e()],1)])])],1)};t.staticRenderFns=[]},4455:function(e,t,r){e.exports={}},4456:function(e,t,r){e.exports={}},5207:function(e,t,r){"use strict";var a=r(4454);r.o(a,"render")&&r.d(t,"render",(function(){return a.render})),r.o(a,"staticRenderFns")&&r.d(t,"staticRenderFns",(function(){return a.staticRenderFns}))},5208:function(e,t,r){e.exports=r.p+"img/pencil_icon.31be4db.png"},5209:function(e,t,r){e.exports=r.p+"img/projects-submit-banner-cn.ea44c81.png"},5210:function(e,t,r){e.exports=r.p+"img/projects-submit-banner.d5e4414.png"},5211:function(e,t,r){"use strict";r(4455)},5212:function(e,t,r){"use strict";r(4456)}}]);